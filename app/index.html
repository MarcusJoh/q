<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Q app</title>
		<meta name="viewport" content="initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no"/>

		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.1/animate.min.css">

		<link rel="stylesheet" href="styles/style.css" media="screen" title="no title" charset="utf-8">

		<!-- index.html is used by all clients in their smart-phone. Signup, login and all 'limited' account client functions exposed such as taking a ticket, seeing info about ticket and queue, changing client data such as name, mail and password etc. -->

	</head>
	<body>

		<!-- TODO About us! modal -->

		<!-- MODALS CONTAINER -->
		<div id="container-modals" class="container-fluid">

			<!-- SIGNUP MODAL -->
			<div id="q-signup-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="signup-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title"><span class="glyphicon glyphicon-user"></span> Sign up</h4>
						</div>
						<div class="modal-body">
							<form id="form-signup">
								<div class="form-group">
									<label class="sr-only" for="signup-email">Email address</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div>
										<input type="email" class="form-control" id="signup-mail" placeholder="Email">
									</div>
								</div>
								<div class="form-group">
									<label class="sr-only" for="signup-password">Password</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
										<input type="password" class="form-control" id="signup-password" placeholder="Password">
									</div>
								</div>
								<div class="form-group">
									<label class="sr-only" for="signup-repeat-password">Repeat password</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
										<input type="password" class="form-control" id="signup-password-repeat" placeholder="Repeat password">
									</div>
								</div>
								<div class="form-group">
									<button id="signup-button" type="button" class="btn btn-success btn-block">Sign me up!</button>
								</div>
							</form>
						</div>
						<div class="modal-footer">
		          <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
		          <p>Have an account? <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#q-login-modal">Login!</a></p>
		        </div>
					</div>
				</div>
			</div>

			<!-- LOGIN MODAL -->
			<div id="q-login-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="login-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title"><span class="glyphicon glyphicon-log-in"></span> Login</h4>
						</div>
						<div class="modal-body">
							<form id="form-login">
								<div class="form-group">
									<label class="sr-only" for="signup-email">Email address</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></div>
										<input type="email" class="form-control" id="login-mail" placeholder="Email">
									</div>
								</div>
								<div class="form-group">
									<label class="sr-only" for="signup-password">Password</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
										<input type="password" class="form-control" id="login-password" placeholder="Password">
									</div>
								</div>
								<div class="form-group form-inline">
									<button id="login-button" type="button" class="btn btn-success btn-block"><span class="glyphicon glyphicon-ok"></span></button>
									<!--
									<div class="row">
										<div class="col-xs-6">
											<div class="checkbox">
												<label>
													<input id="login-checkbox" type="checkbox"> Remember me
												</label>
											</div>
										</div>
										<div class="col-xs-6">
											<button id="login-button" type="button" class="btn btn-success btn-block"><span class="glyphicon glyphicon-ok"></span></button>
										</div>
									</div>
									-->
								</div>
							</form>
						</div>
						<div class="modal-footer">
		          <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
		          <p>No account? <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#q-signup-modal">Sign Up!</a></p>
		          <!--<p>Forgot <a id="reset-password-button" href="#" data-dismiss="modal" data-toggle="modal" data-target="#q-password-modal">Password?</a></p>-->
		        </div>
					</div>
				</div>
			</div>

			<!-- PASSWORD RESET MODAL -->
			<div id="q-password-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="password-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Success!</h4>
						</div>
						<div class="modal-body">
							<div id="password-success-message" class="text-center">
								<h1><span class="glyphicon glyphicon-ok animated zoomIn text-success"></span></h1>
								<h5>A new password have been sent to your mail.</h5>
								<br>
							</div>
							<form class="form-group">
								<button id="success-button" data-dismiss="modal" data-toggle="modal" data-target="#q-login-modal" type="button" class="btn btn-default btn-block">Go back to login</button>
							</form>
						</div>
						<div class="modal-footer text-center" style="text-align: center;">
		          <p>If you do not recive a mail or if you are still unable to login to your account, please contact your teacher or send an email directly to <span class="brand-text stamp">Q by ioio</span> support.</p>
							<button class="btn btn-link">support@byioio.com</button>
		        </div>
					</div>
				</div>
			</div>

			<!-- COMPLETET INFO MODAL -->
			<div id="q-complete-info-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="complete-info-modal" data-backdrop="static" data-keyboard="false">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">Complete your profile</h4>
						</div>
						<div class="modal-body">
							<form id="form-complete">
								<div class="form-group">
									<label class="sr-only" for="complete-first-name">First name</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div>
										<input type="text" class="form-control" id="complete-first-name" placeholder="First name">
									</div>
								</div>
								<div class="form-group">
									<label class="sr-only" for="complete-last-name">Last name</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div>
										<input type="text" class="form-control" id="complete-last-name" placeholder="Last name">
									</div>
								</div>
								<div class="form-group">
									<label class="sr-only" for="complete-studies-name">Last name</label>
									<div class="input-group">
										<div class="input-group-addon"><span class="glyphicon glyphicon-education"></span></div>
										<input type="text" class="form-control" id="complete-studies-name" placeholder="Program/Course">
									</div>
								</div>
								<div class="form-group">
									<button id="complete-info-button" type="button" class="btn btn-success btn-block">All done!</button>
								</div>
							</form>
						</div>
						<div class="modal-footer" style="text-align: center;">
		          <p>Your name is whatever you wanna go by, but remember that it is going to be displayed on screens around the workshop so nothing too explicit. Please! Also, some students only have one single course while others attend a program. Fill in your studies as you see fit.</p>
							<p>Choose clear names to make it easy for your teacher to find you when you need help.</p>
		        </div>
					</div>
				</div>
			</div>

			<!-- FIXME Ticket modal -->
			<!-- TICKET MODAL -->
			<div id="q-get-ticket-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="get-ticket-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Take ticket</h4>
						</div>
						<div class="modal-body">
							<form id="form-ticket">
								<!--<div class="form-group">
									<div class="btn-group" data-toggle="buttons">
										<label id="workshop-machines" class="btn btn-primary">
									    <input type="checkbox" autocomplete="off">M
									  </label>
									</div>
									<div class="btn-group" data-toggle="buttons">
										<label id="3d-printer"class="btn btn-primary">
									    <input type="checkbox" autocomplete="off">2
									  </label>
									</div>
									<div class="btn-group" data-toggle="buttons">
										<label id="laser-cutter"class="btn btn-primary">
									    <input type="checkbox" autocomplete="off">3
									  </label>
									</div>
									<div class="btn-group" data-toggle="buttons">
										<label id="other-questions"class="btn btn-primary">
									    <input type="checkbox" autocomplete="off">?
									  </label>
									</div>
								</div>-->
								<div class="form-group">
									<select id="ticket-location"class="form-control">
									  <option>Designstudion</option>
									  <option>Utställningsateljén</option>
									  <option>Mixstudion</option>
									  <option>Workshop</option>
									  <option>Våtrumsataljen</option>
										<option>Lackrummet</option>
									</select>
								</div>
								<div class="form-group">
									<div class="btn-group btn-group-justified" data-toggle="buttons">
									  <label  class="btn btn-primary active">
									    <input type="radio" name="options" id="5min" autocomplete="off" checked value="5"> 5 min
									  </label>
									  <label class="btn btn-primary">
									    <input type="radio" name="options" id="10min" autocomplete="off" value="10"> 10 min
									  </label>
									</div>
								</div>
							</form>
						</div>
						<div class="modal-footer">
							<div class="form-group">
								<button id="get-ticket-button" type="button" class="btn btn-success btn-block"><span class="glyphicon glyphicon-ok"></span></button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- REMOVE TICKET MODAL -->
			<div id="q-remove-ticket-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="remove-ticket-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Remove ticket?</h4>
						</div>
						<div class="modal-body">
							<br>
							<p class="text-center">You will lose your place in the queue.</p>
							<br>
							<form id="form-remove">
								<div class="form-group">
									<button id="remove-ticket-button" type="button" class="btn btn-success btn-block"><span class="glyphicon glyphicon-ok"></span></button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>

			<!-- FIXME Queue modal -->
			<!-- QUEUE MODAL -->
			<div id="q-queue-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="queue-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Current queue</h4>
						</div>
						<div class="modal-body">
							<div class="panel panel-default">
								<ol id="container-queue" class="list-group "></ol>
							</div>
							<!--
							<div class="dropdown">
								<button id="drop-label" class="btn btn-default btn-md btn-block dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="glyphicon glyphicon-cog"></span>
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="drop-label">
									<li><a href="#"><span class="glyphicon glyphicon-ok text-success"></span> Help</a></li>
									<li role="separator" class="divider"></li>
									<li><a href="#"><span class="glyphicon glyphicon-chevron-up"></span> Move one up</a></li>
									<li><a href="#"><span class="glyphicon glyphicon-chevron-down"></span> Move one down</a></li>
									<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span> Push to last</a></li>
									<li role="separator" class="divider"></li>
									<li><a href="#"><span class="glyphicon glyphicon-remove text-danger"></span> Remove from queue</a></li>
								</ul>
							</div>
							-->
						</div>
					</div>
				</div>
			</div>

			<div id="q-bug-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ticket-modal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Give us feedback!</h4>
						</div>
						<div class="modal-body">
							<form id="form-bug">
								<div class="form-group">
									<textarea id="bug-msg" class="form-control" rows="4" placeholder="Write your message here."></textarea>
								</div>
								<div class="form-group">
									<button id="bug-button" type="button" class="btn btn-success btn-block"><span class="glyphicon glyphicon-ok"></span></button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>

		</div><!-- end modal container -->


		<!-- #d00d1e || #d00d1e || #d00d1e ||-->
		<!-- #BADA55 || #BADA55 || #BADA55 ||-->


		<!-- PAGES CONTAINER -->
		<div id="container-pages" class="container-fluid">

			<!-- FIXED NAVBAR -->
			<nav class="navbar navbar-default navbar-fixed-top">
				<div class="container-fluid">
					<div class="navbar-header pull-left">
						<a class="navbar-brand brand-text" href="#"><strong>Q</strong><small> by ioio</small></a>
					</div>

					<div class="navbar-header pull-right">

						<ul id="nav-load" class="nav pull-right active">
						</ul>

						<ul id="nav-main" class="nav pull-right">
								<li><a href="#signup" data-toggle="modal" data-target="#q-signup-modal"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
								<li><a href="#login" data-toggle="modal" data-target="#q-login-modal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>

						</ul>

						<ul id="nav-app" class="nav pull-right">
								
								
								<li class="dropdown">
									<a href="#" id="user-dropdown" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="glyphicon glyphicon-user"></span> <span class="caret"></span></a>
									<ul class="dropdown-menu dropdown-menu-right dropdown-menu-nav" aria-labelledby="user-dropdown">
										<li class="dropdown-header">logged in as:</li>
										<li id="dropdown-user">FirstName LastName</li>
										<li role="separator" class="divider"></li>
								    <li><a id="settings-button" href="#">Settings</a></li>
										<li><input id="multicard-button" type="button" class="btn btn-link" value="connect multicard" disabled/></li>
										<li role="separator" class="divider"></li>
										<li><a id="get-bug-modal" href="#" data-toggle="modal" data-target="#q-bug-modal">Send us feedback!</a></li>
										<!--<li><a id="about-button"href="#"><span class="glyphicon glyphicon-info-sign"></span> about</a></li>-->
								    <li><a id="logout-button" href="#"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
									  </ul>
								</li>

						</ul>

						<ul id="nav-settings" class="nav pull-right">
								<li><a id="back-button" href="#"><span class="glyphicon glyphicon-chevron-left"></span> Back</a></li>
						</ul>
					</div>

				</div>
			</nav>


			<!-- LOAD VIEW -->
			<div id="page-load" class="page active">
				<span class="loading">Q</span>
			</div><!-- end load view -->

			<!-- MAIN VIEW -->
			<div id="page-main" class="page">
				<div class="jumbotron text-center">
					<div class="page-header">
						<h1 class="brand-text"><strong>Q</strong><small> by ioio</small></h1>
					</div>
					<p>Created by students from Malmö University IxD program.</p>
					<p><strong>Q</strong><small> by ioio</small> is currently in BETA</p>
				</div>
			</div><!-- end main view -->

			<!-- APP VIEW -->
			<div id="page-app" class="page">
				<div class="well well-sm">

					<div id="limited-view" class="view active">
						<!-- TODO Display current ticket -->
						<div id="module-current-ticket" class="text-center">
							<h3 id="queue-header">Take a ticket</h3>
							<span id="queue-number"></span><br>
							<span id="queue-est"></span><br>
							<span id="queue-location"></span><br><br>
							<!--<p>About: <span id="queue-tags"></span></p>-->
						</div>

						<!-- FIXME Take ticket -->
						<div id="module-take-ticket" class="module active">
							<form>
								<div class="form-group">
									<button type="button" class="btn btn-primary btn-block center-block btn-lg" data-toggle="modal" data-target="#q-get-ticket-modal">Take ticket</button>
								</div>
							</form>
						</div>

						<!-- FIXME Remove ticket -->
						<div id="module-remove-ticket" class="module">
							<form>
								<div class="form-group">
									<button type="button" class="btn btn-warning btn-block center-block btn-lg" data-toggle="modal" data-target="#q-remove-ticket-modal">Remove ticket</button>
								</div>
							</form>
						</div>
					</div>

					<div id="full-view" class="view">

						<div id="module-next-ticket" class="text-center">
							<h3 id="ticket-queue-header"></h3>
							<span id="ticket-queue-name"></span><br>
							<span id="ticket-queue-studies"></span><br>
							<span id="ticket-queue-est"></span><br>
							<span id="ticket-queue-location"></span><br><br>
							<!--<p>About: <span id="queue-tags"></span></p>-->
						</div>

						<div id="module-clear-ticket" class="module active">
							<form>
								<div class="form-group">
									<button id="clear-ticket-button" type="button" class="btn btn-primary btn-block center-block btn-lg">Clear this ticket</button>
								</div>
							</form>
						</div>

						<!--
						<div id="module-push-ticket" class="module active">
							<form>
								<div class="form-group">
									<button type="button" class="btn btn-warning btn-block center-block btn-lg">Push down ticket</button>
								</div>
							</form>
						</div>
						-->
					</div>

					<br>
					<!-- FIXME help others -->
					<div id="module-help-ticket" class="module active">
						<form>
							<div class="form-group">
								<button id="help-others-button" type="button" class="btn btn-block center-block btn-md btn-success" data-toggle="modal" data-target="#q-queue-modal">Queue</button>
							</div>
						</form>
					</div>


				</div>
			</div><!-- end app view -->

			<!-- TODO Settings page -->
			<!-- SETTINGS VIEW -->
			<div id="page-settings" class="page">
				<div class="jumbotron text-center">
					<div class="page-header">
					  <h1>Settings</h1>
					</div>
					<p>This page will have all settings on it and a save/discard button at the bottom of the page. A nav item navigate the user back to the app page without saving unsaved changes.</p>
					<p>User will be able to change all information, change password and email, in the future connect/change multicard etc.</p>
					<br>
				</div>
			</div><!-- end settings view -->

			<!-- STICKY FOOTER -->
			<footer>
				<div class="container">
					<p class="text-muted">© 2016 – IOIO/Malmö University - currently in BETA</p>
				</div>
			</footer>

		</div><!-- end pages container -->


		<!-- ALERTS CONTAINER -->
		<div id="container-alerts">
		</div>


		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
		<script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/radio/0.2.0/radio.min.js"></script>

		<script src="scripts/app.js" charset="utf-8"></script>
		<script src="scripts/view.js" charset="utf-8"></script>
		<script src="scripts/ctrl.js" charset="utf-8"></script>

		<script type="text/javascript">
			$( document ).ready(function() {
				ctrl.init();
				view.init();
				app.init("https://mah-q.firebaseio.com");
			});
			/*
			document.addEventListener('DOMContentLoaded', function(){
				//timeout only there to see loading screen, remove before deploying
				setTimeout(function(){
					ctrl.init();
					view.init();
					app.init("https://mah-q.firebaseio.com");
				}, 1000);
			});
			*/
		</script>

	</body>
</html>
